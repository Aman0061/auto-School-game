# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Cloudflare CDN –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∞–≤—Ç–æ—à–∫–æ–ª—ã

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cloudflare Images

–í–∞—à Account Hash: `8Bvjq3jb_mpIsntMaLlCpg`

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **CDN URL**: `https://imagedelivery.net/8Bvjq3jb_mpIsntMaLlCpg/`
- **–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω**: $5/–º–µ—Å—è—Ü
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: JPG, PNG, WebP (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## üì± –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö

### 1. –í JSON —Ñ–∞–π–ª–µ –≤–æ–ø—Ä–æ—Å–æ–≤
```json
{
  "id": 1,
  "text": "–†–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –í–∞–º –ø—Ä–æ–µ—Ö–∞—Ç—å –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π –ø–µ—Ä–µ–µ–∑–¥?",
  "answers": [...],
  "image": "image001.png"  // –ò–º—è —Ñ–∞–π–ª–∞ –≤ Cloudflare
}
```

### 2. –í –∫–æ–¥–µ Flutter
```dart
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
final imageUrl = question.cloudflareImageUrlMobile;

// –ò–ª–∏ —á–µ—Ä–µ–∑ ImageService
final imageService = ImageService();
final imageUrl = imageService.getQuestionImageUrlMobile(question.image);
```

### 3. –í UI –≤–∏–¥–∂–µ—Ç–∞—Ö
```dart
CDNImage(
  imageName: question.imagePath!,
  width: double.infinity,
  height: 250,
  fit: BoxFit.cover,
  useMobileOptimization: true, // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ
)
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### ImageService
- `getQuestionImageUrl(imageName)` - –±–∞–∑–æ–≤—ã–π URL
- `getQuestionImageUrlMobile(imageName)` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- `getQuestionImageUrlWeb(imageName)` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤–µ–±
- `isCloudflareImageAvailable(imageName)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### CDNConfig
- `getMobileOptimizedUrl(imageName)` - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- `getWebOptimizedUrl(imageName)` - –≤–µ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- `getAutoFormatUrl(imageName)` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç
- `getRetinaUrl(imageName)` - –¥–ª—è Retina –¥–∏—Å–ø–ª–µ–µ–≤

## üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **–®–∏—Ä–∏–Ω–∞**: 800px
- **–í—ã—Å–æ—Ç–∞**: 600px
- **–ö–∞—á–µ—Å—Ç–≤–æ**: 80%
- **–§–æ—Ä–º–∞—Ç**: WebP (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

### –í–µ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **–®–∏—Ä–∏–Ω–∞**: 1600px
- **–í—ã—Å–æ—Ç–∞**: 1200px
- **–ö–∞—á–µ—Å—Ç–≤–æ**: 95%
- **–§–æ—Ä–º–∞—Ç**: WebP (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç Cloudflare CDN:
```dart
CloudflareTest.testImageUrls();
CloudflareTest.testAccountHash();
```

## üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Cloudflare

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Images"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –≤ JSON (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `traffic_sign_stop`, `pedestrian_crossing`)
2. **–†–∞–∑–º–µ—Ä—ã**: –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≤—ã—Å–æ–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏, Cloudflare –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç
3. **–§–æ—Ä–º–∞—Ç—ã**: PNG –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é, JPG –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –≤ JSON
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ Cloudflare
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useMobileOptimization: true` –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CDN –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Account Hash –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Cloudflare Images –≤ –¥–∞—à–±–æ—Ä–¥–µ


